(function (root) {
  const LANGUAGE_CODES = ["ar", "zh", "en", "fr", "de", "el", "he", "it", "ja", "ko", "pt", "ru", "es", "th", "tr", "uk"];

  const UI_LANGUAGE_LABELS = {
  "ar": "العربية",
  "zh": "中文",
  "en": "English",
  "fr": "Français",
  "de": "Deutsch",
  "el": "Ελληνικά",
  "he": "עברית",
  "it": "Italiano",
  "ja": "日本語",
  "ko": "한국어",
  "pt": "Português",
  "ru": "Русский",
  "es": "Español",
  "th": "ไทย",
  "tr": "Türkçe",
  "uk": "Українська"
};

  const LANGUAGE_NAME_FALLBACK = {
  "ar": "Arabic",
  "zh": "Chinese",
  "en": "English",
  "fr": "French",
  "de": "German",
  "el": "Greek",
  "he": "Hebrew",
  "it": "Italian",
  "ja": "Japanese",
  "ko": "Korean",
  "pt": "Portuguese",
  "ru": "Russian",
  "es": "Spanish",
  "th": "Thai",
  "tr": "Turkish",
  "uk": "Ukrainian"
};

  const OPTIONS_I18N = {
  "ar": {
    "title": "إعدادات AI Translate",
    "subtitle": "إعداد المزوّدين واللغات وطريقة عرض النتيجة.",
    "ui_lang": "لغة الواجهة",
    "provider": "المزوّد",
    "api_base_url": "رابط API الأساسي (متوافق مع OpenAI)",
    "api_base_url_placeholder": "https://api.openai.com/v1",
    "api_key": "مفتاح API",
    "api_key_placeholder": "sk-...",
    "model": "النموذج",
    "model_custom_placeholder": "معرّف نموذج مخصص",
    "openrouter_models": "نماذج OpenRouter",
    "openrouter_source": "المصدر",
    "openrouter_source_user": "نماذج المستخدم",
    "openrouter_source_public": "كل النماذج العامة",
    "openrouter_free_only": "مجانية فقط",
    "refresh_list": "تحديث القائمة",
    "openrouter_hint": "يستخدم مفتاح OpenRouter API لتحميل النماذج المتاحة.",
    "target_lang": "اللغة الهدف",
    "source_lang": "لغة المصدر",
    "autodetect": "اكتشاف تلقائي",
    "output_mode": "إخراج قائمة السياق",
    "output_toast": "نافذة منبثقة أسفل اليمين",
    "output_center": "نافذة مركزية",
    "overlay_duration": "مدة النافذة (بالثواني)",
    "selection_shortcut": "إظهار أيقونة الترجمة بجانب النص المحدد",
    "enable_x_inline_translation": "إظهار زر الترجمة على X",
    "enable_youtube_inline_translation": "إظهار زر الترجمة على YouTube",
    "save": "حفظ",
    "changes_hint": "تُطبق التغييرات فورًا بعد الحفظ.",
    "status_saved": "تم الحفظ.",
    "status_required": "عنوان API والنموذج مطلوبان.",
    "status_set_openrouter_key": "حدّد مفتاح OpenRouter أولًا.",
    "status_set_yandex_key": "حدّد مفتاح YandexGPT أولًا.",
    "status_refreshing": "جارٍ تحديث النماذج...",
    "status_no_models": "لم يتم العثور على نماذج.",
    "status_models_updated": "تم تحديث النماذج."
  },
  "zh": {
    "title": "AI Translate 设置",
    "subtitle": "配置提供商、语言和输出方式。",
    "ui_lang": "界面语言",
    "provider": "提供商",
    "api_base_url": "API 基础 URL（兼容 OpenAI）",
    "api_base_url_placeholder": "https://api.openai.com/v1",
    "api_key": "API 密钥",
    "api_key_placeholder": "sk-...",
    "model": "模型",
    "model_custom_placeholder": "自定义模型 ID",
    "openrouter_models": "OpenRouter 模型",
    "openrouter_source": "来源",
    "openrouter_source_user": "用户模型",
    "openrouter_source_public": "全部公开模型",
    "openrouter_free_only": "仅免费",
    "refresh_list": "刷新列表",
    "openrouter_hint": "使用你的 OpenRouter API 密钥加载可用模型。",
    "target_lang": "目标语言",
    "source_lang": "源语言",
    "autodetect": "自动检测",
    "output_mode": "右键菜单输出",
    "output_toast": "右下角弹窗",
    "output_center": "居中弹窗",
    "overlay_duration": "覆盖层时长（秒）",
    "selection_shortcut": "在选中文本旁显示翻译图标",
    "enable_x_inline_translation": "在 X 上显示翻译按钮",
    "enable_youtube_inline_translation": "在 YouTube 上显示翻译按钮",
    "save": "保存",
    "changes_hint": "保存后更改会立即生效。",
    "status_saved": "已保存。",
    "status_required": "API URL 和模型为必填。",
    "status_set_openrouter_key": "请先设置 OpenRouter API 密钥。",
    "status_set_yandex_key": "请先设置 YandexGPT API 密钥。",
    "status_refreshing": "正在刷新模型...",
    "status_no_models": "未返回模型。",
    "status_models_updated": "模型已更新。"
  },
  "en": {
    "title": "AI Translate Settings",
    "subtitle": "Configure providers, languages, and output behavior.",
    "ui_lang": "UI language",
    "provider": "Provider",
    "api_base_url": "API Base URL (OpenAI-compatible)",
    "api_base_url_placeholder": "https://api.openai.com/v1",
    "api_key": "API Key",
    "api_key_placeholder": "sk-...",
    "model": "Model",
    "model_custom_placeholder": "Custom model id",
    "openrouter_models": "OpenRouter models",
    "openrouter_source": "Source",
    "openrouter_source_user": "User models",
    "openrouter_source_public": "All public models",
    "openrouter_free_only": "Free only",
    "refresh_list": "Refresh list",
    "openrouter_hint": "Uses your OpenRouter API key to load available models.",
    "target_lang": "Target language",
    "source_lang": "Source language",
    "autodetect": "Autodetect",
    "output_mode": "Context menu output",
    "output_toast": "Bottom-right popup",
    "output_center": "Centered modal",
    "overlay_duration": "Overlay duration (seconds)",
    "selection_shortcut": "Show translation icon near selected text",
    "enable_x_inline_translation": "Show translation button on X",
    "enable_youtube_inline_translation": "Show translation button on YouTube",
    "save": "Save",
    "changes_hint": "Changes apply instantly after saving.",
    "status_saved": "Saved.",
    "status_required": "API URL and model are required.",
    "status_set_openrouter_key": "Set OpenRouter API key first.",
    "status_set_yandex_key": "Set YandexGPT API key first.",
    "status_refreshing": "Refreshing models...",
    "status_no_models": "No models returned.",
    "status_models_updated": "Models updated."
  },
  "fr": {
    "title": "Paramètres AI Translate",
    "subtitle": "Configurez les fournisseurs, langues et mode d'affichage.",
    "ui_lang": "Langue de l'interface",
    "provider": "Fournisseur",
    "api_base_url": "URL de base API (compatible OpenAI)",
    "api_base_url_placeholder": "https://api.openai.com/v1",
    "api_key": "Clé API",
    "api_key_placeholder": "sk-...",
    "model": "Modèle",
    "model_custom_placeholder": "ID de modèle personnalisé",
    "openrouter_models": "Modèles OpenRouter",
    "openrouter_source": "Source",
    "openrouter_source_user": "Modèles utilisateur",
    "openrouter_source_public": "Tous les modèles publics",
    "openrouter_free_only": "Gratuits uniquement",
    "refresh_list": "Actualiser la liste",
    "openrouter_hint": "Utilise votre clé API OpenRouter pour charger les modèles disponibles.",
    "target_lang": "Langue cible",
    "source_lang": "Langue source",
    "autodetect": "Détection automatique",
    "output_mode": "Sortie du menu contextuel",
    "output_toast": "Popup en bas à droite",
    "output_center": "Fenêtre modale centrée",
    "overlay_duration": "Durée de l'overlay (secondes)",
    "selection_shortcut": "Afficher l’icône de traduction près du texte sélectionné",
    "enable_x_inline_translation": "Afficher le bouton de traduction sur X",
    "enable_youtube_inline_translation": "Afficher le bouton de traduction sur YouTube",
    "save": "Enregistrer",
    "changes_hint": "Les changements s'appliquent immédiatement après l'enregistrement.",
    "status_saved": "Enregistré.",
    "status_required": "L'URL API et le modèle sont requis.",
    "status_set_openrouter_key": "Définissez d'abord la clé API OpenRouter.",
    "status_set_yandex_key": "Définissez d'abord la clé API YandexGPT.",
    "status_refreshing": "Actualisation des modèles...",
    "status_no_models": "Aucun modèle trouvé.",
    "status_models_updated": "Modèles mis à jour."
  },
  "de": {
    "title": "AI Translate Einstellungen",
    "subtitle": "Anbieter, Sprachen und Ausgabemodus konfigurieren.",
    "ui_lang": "UI-Sprache",
    "provider": "Anbieter",
    "api_base_url": "API-Basis-URL (OpenAI-kompatibel)",
    "api_base_url_placeholder": "https://api.openai.com/v1",
    "api_key": "API-Schlüssel",
    "api_key_placeholder": "sk-...",
    "model": "Modell",
    "model_custom_placeholder": "Benutzerdefinierte Modell-ID",
    "openrouter_models": "OpenRouter-Modelle",
    "openrouter_source": "Quelle",
    "openrouter_source_user": "Benutzermodelle",
    "openrouter_source_public": "Alle öffentlichen Modelle",
    "openrouter_free_only": "Nur kostenlos",
    "refresh_list": "Liste aktualisieren",
    "openrouter_hint": "Verwendet Ihren OpenRouter-API-Schlüssel zum Laden verfügbarer Modelle.",
    "target_lang": "Zielsprache",
    "source_lang": "Ausgangssprache",
    "autodetect": "Automatische Erkennung",
    "output_mode": "Ausgabe aus dem Kontextmenü",
    "output_toast": "Popup unten rechts",
    "output_center": "Zentriertes Modal",
    "overlay_duration": "Overlay-Dauer (Sekunden)",
    "selection_shortcut": "Übersetzungssymbol neben ausgewähltem Text anzeigen",
    "enable_x_inline_translation": "Übersetzungsschaltfläche auf X anzeigen",
    "enable_youtube_inline_translation": "Übersetzungsschaltfläche auf YouTube anzeigen",
    "save": "Speichern",
    "changes_hint": "Änderungen werden nach dem Speichern sofort angewendet.",
    "status_saved": "Gespeichert.",
    "status_required": "API-URL und Modell sind erforderlich.",
    "status_set_openrouter_key": "Zuerst OpenRouter-API-Schlüssel setzen.",
    "status_set_yandex_key": "Zuerst YandexGPT-API-Schlüssel setzen.",
    "status_refreshing": "Modelle werden aktualisiert...",
    "status_no_models": "Keine Modelle gefunden.",
    "status_models_updated": "Modelle aktualisiert."
  },
  "el": {
    "title": "Ρυθμίσεις AI Translate",
    "subtitle": "Ρυθμίστε παρόχους, γλώσσες και τρόπο εμφάνισης.",
    "ui_lang": "Γλώσσα διεπαφής",
    "provider": "Πάροχος",
    "api_base_url": "Βασικό URL API (συμβατό με OpenAI)",
    "api_base_url_placeholder": "https://api.openai.com/v1",
    "api_key": "Κλειδί API",
    "api_key_placeholder": "sk-...",
    "model": "Μοντέλο",
    "model_custom_placeholder": "ID προσαρμοσμένου μοντέλου",
    "openrouter_models": "Μοντέλα OpenRouter",
    "openrouter_source": "Πηγή",
    "openrouter_source_user": "Μοντέλα χρήστη",
    "openrouter_source_public": "Όλα τα δημόσια",
    "openrouter_free_only": "Μόνο δωρεάν",
    "refresh_list": "Ανανέωση λίστας",
    "openrouter_hint": "Χρησιμοποιεί το κλειδί API OpenRouter για φόρτωση διαθέσιμων μοντέλων.",
    "target_lang": "Γλώσσα στόχος",
    "source_lang": "Γλώσσα πηγής",
    "autodetect": "Αυτόματος εντοπισμός",
    "output_mode": "Έξοδος από μενού περιβάλλοντος",
    "output_toast": "Αναδυόμενο κάτω δεξιά",
    "output_center": "Κεντρικό modal",
    "overlay_duration": "Διάρκεια overlay (δευτερόλεπτα)",
    "selection_shortcut": "Εμφάνιση εικονιδίου μετάφρασης δίπλα στο επιλεγμένο κείμενο",
    "enable_x_inline_translation": "Εμφάνιση κουμπιού μετάφρασης στο X",
    "enable_youtube_inline_translation": "Εμφάνιση κουμπιού μετάφρασης στο YouTube",
    "save": "Αποθήκευση",
    "changes_hint": "Οι αλλαγές εφαρμόζονται αμέσως μετά την αποθήκευση.",
    "status_saved": "Αποθηκεύτηκε.",
    "status_required": "Απαιτούνται URL API και μοντέλο.",
    "status_set_openrouter_key": "Ορίστε πρώτα το κλειδί API OpenRouter.",
    "status_set_yandex_key": "Ορίστε πρώτα το κλειδί API YandexGPT.",
    "status_refreshing": "Ανανέωση μοντέλων...",
    "status_no_models": "Δεν βρέθηκαν μοντέλα.",
    "status_models_updated": "Τα μοντέλα ενημερώθηκαν."
  },
  "he": {
    "title": "הגדרות AI Translate",
    "subtitle": "הגדרת ספקים, שפות ואופן הצגת הפלט.",
    "ui_lang": "שפת ממשק",
    "provider": "ספק",
    "api_base_url": "כתובת בסיס API (תואם OpenAI)",
    "api_base_url_placeholder": "https://api.openai.com/v1",
    "api_key": "מפתח API",
    "api_key_placeholder": "sk-...",
    "model": "מודל",
    "model_custom_placeholder": "מזהה מודל מותאם אישית",
    "openrouter_models": "מודלי OpenRouter",
    "openrouter_source": "מקור",
    "openrouter_source_user": "מודלי משתמש",
    "openrouter_source_public": "כל הציבוריים",
    "openrouter_free_only": "חינמיים בלבד",
    "refresh_list": "רענן רשימה",
    "openrouter_hint": "משתמש במפתח OpenRouter שלך כדי לטעון מודלים זמינים.",
    "target_lang": "שפת יעד",
    "source_lang": "שפת מקור",
    "autodetect": "זיהוי אוטומטי",
    "output_mode": "פלט מתפריט ההקשר",
    "output_toast": "חלונית קופצת בפינה הימנית התחתונה",
    "output_center": "חלון מודאלי ממורכז",
    "overlay_duration": "משך התצוגה (שניות)",
    "selection_shortcut": "הצג סמל תרגום ליד הטקסט המסומן",
    "enable_x_inline_translation": "הצג כפתור תרגום ב-X",
    "enable_youtube_inline_translation": "הצג כפתור תרגום ב-YouTube",
    "save": "שמור",
    "changes_hint": "השינויים מוחלים מייד לאחר השמירה.",
    "status_saved": "נשמר.",
    "status_required": "נדרשים URL של API ומודל.",
    "status_set_openrouter_key": "יש להגדיר קודם מפתח OpenRouter.",
    "status_set_yandex_key": "יש להגדיר קודם מפתח YandexGPT.",
    "status_refreshing": "מרענן מודלים...",
    "status_no_models": "לא נמצאו מודלים.",
    "status_models_updated": "המודלים עודכנו."
  },
  "it": {
    "title": "Impostazioni AI Translate",
    "subtitle": "Configura provider, lingue e modalità di output.",
    "ui_lang": "Lingua dell'interfaccia",
    "provider": "Provider",
    "api_base_url": "URL base API (compatibile OpenAI)",
    "api_base_url_placeholder": "https://api.openai.com/v1",
    "api_key": "Chiave API",
    "api_key_placeholder": "sk-...",
    "model": "Modello",
    "model_custom_placeholder": "ID modello personalizzato",
    "openrouter_models": "Modelli OpenRouter",
    "openrouter_source": "Origine",
    "openrouter_source_user": "Modelli utente",
    "openrouter_source_public": "Tutti i pubblici",
    "openrouter_free_only": "Solo gratuiti",
    "refresh_list": "Aggiorna elenco",
    "openrouter_hint": "Usa la tua chiave API OpenRouter per caricare i modelli disponibili.",
    "target_lang": "Lingua di destinazione",
    "source_lang": "Lingua di origine",
    "autodetect": "Rilevamento automatico",
    "output_mode": "Output dal menu contestuale",
    "output_toast": "Popup in basso a destra",
    "output_center": "Finestra modale centrata",
    "overlay_duration": "Durata overlay (secondi)",
    "selection_shortcut": "Mostra l'icona di traduzione vicino al testo selezionato",
    "enable_x_inline_translation": "Mostra il pulsante di traduzione su X",
    "enable_youtube_inline_translation": "Mostra il pulsante di traduzione su YouTube",
    "save": "Salva",
    "changes_hint": "Le modifiche si applicano subito dopo il salvataggio.",
    "status_saved": "Salvato.",
    "status_required": "URL API e modello sono obbligatori.",
    "status_set_openrouter_key": "Imposta prima la chiave API OpenRouter.",
    "status_set_yandex_key": "Imposta prima la chiave API YandexGPT.",
    "status_refreshing": "Aggiornamento modelli...",
    "status_no_models": "Nessun modello trovato.",
    "status_models_updated": "Modelli aggiornati."
  },
  "ja": {
    "title": "AI Translate 設定",
    "subtitle": "プロバイダー、言語、出力モードを設定します。",
    "ui_lang": "UI言語",
    "provider": "プロバイダー",
    "api_base_url": "API ベースURL（OpenAI互換）",
    "api_base_url_placeholder": "https://api.openai.com/v1",
    "api_key": "APIキー",
    "api_key_placeholder": "sk-...",
    "model": "モデル",
    "model_custom_placeholder": "カスタムモデルID",
    "openrouter_models": "OpenRouter モデル",
    "openrouter_source": "ソース",
    "openrouter_source_user": "ユーザーモデル",
    "openrouter_source_public": "すべての公開モデル",
    "openrouter_free_only": "無料のみ",
    "refresh_list": "リストを更新",
    "openrouter_hint": "利用可能なモデルの読み込みに OpenRouter API キーを使用します。",
    "target_lang": "翻訳先言語",
    "source_lang": "原文言語",
    "autodetect": "自動検出",
    "output_mode": "コンテキストメニュー出力",
    "output_toast": "右下ポップアップ",
    "output_center": "中央モーダル",
    "overlay_duration": "オーバーレイ表示時間（秒）",
    "selection_shortcut": "選択したテキストの近くに翻訳アイコンを表示",
    "enable_x_inline_translation": "X で翻訳ボタンを表示",
    "enable_youtube_inline_translation": "YouTube で翻訳ボタンを表示",
    "save": "保存",
    "changes_hint": "保存後すぐに変更が適用されます。",
    "status_saved": "保存しました。",
    "status_required": "API URL とモデルは必須です。",
    "status_set_openrouter_key": "先に OpenRouter API キーを設定してください。",
    "status_set_yandex_key": "先に YandexGPT API キーを設定してください。",
    "status_refreshing": "モデルを更新中...",
    "status_no_models": "モデルが返されませんでした。",
    "status_models_updated": "モデルを更新しました。"
  },
  "ko": {
    "title": "AI Translate 설정",
    "subtitle": "제공자, 언어 및 출력 방식을 설정합니다.",
    "ui_lang": "UI 언어",
    "provider": "제공자",
    "api_base_url": "API 기본 URL (OpenAI 호환)",
    "api_base_url_placeholder": "https://api.openai.com/v1",
    "api_key": "API 키",
    "api_key_placeholder": "sk-...",
    "model": "모델",
    "model_custom_placeholder": "사용자 지정 모델 ID",
    "openrouter_models": "OpenRouter 모델",
    "openrouter_source": "소스",
    "openrouter_source_user": "사용자 모델",
    "openrouter_source_public": "모든 공개 모델",
    "openrouter_free_only": "무료만",
    "refresh_list": "목록 새로고침",
    "openrouter_hint": "사용 가능한 모델을 불러오기 위해 OpenRouter API 키를 사용합니다.",
    "target_lang": "대상 언어",
    "source_lang": "원본 언어",
    "autodetect": "자동 감지",
    "output_mode": "컨텍스트 메뉴 출력",
    "output_toast": "오른쪽 하단 팝업",
    "output_center": "가운데 모달",
    "overlay_duration": "오버레이 표시 시간(초)",
    "selection_shortcut": "선택한 텍스트 옆에 번역 아이콘 표시",
    "enable_x_inline_translation": "X에서 번역 버튼 표시",
    "enable_youtube_inline_translation": "YouTube에서 번역 버튼 표시",
    "save": "저장",
    "changes_hint": "저장 후 변경 사항이 즉시 적용됩니다.",
    "status_saved": "저장되었습니다.",
    "status_required": "API URL과 모델이 필요합니다.",
    "status_set_openrouter_key": "먼저 OpenRouter API 키를 입력하세요.",
    "status_set_yandex_key": "먼저 YandexGPT API 키를 입력하세요.",
    "status_refreshing": "모델 목록을 새로고침하는 중...",
    "status_no_models": "반환된 모델이 없습니다.",
    "status_models_updated": "모델이 업데이트되었습니다."
  },
  "pt": {
    "title": "Configurações do AI Translate",
    "subtitle": "Configure provedores, idiomas e modo de saída.",
    "ui_lang": "Idioma da interface",
    "provider": "Provedor",
    "api_base_url": "URL base da API (compatível com OpenAI)",
    "api_base_url_placeholder": "https://api.openai.com/v1",
    "api_key": "Chave da API",
    "api_key_placeholder": "sk-...",
    "model": "Modelo",
    "model_custom_placeholder": "ID do modelo personalizado",
    "openrouter_models": "Modelos do OpenRouter",
    "openrouter_source": "Fonte",
    "openrouter_source_user": "Modelos do usuário",
    "openrouter_source_public": "Todos os públicos",
    "openrouter_free_only": "Somente gratuitos",
    "refresh_list": "Atualizar lista",
    "openrouter_hint": "Usa sua chave API do OpenRouter para carregar modelos disponíveis.",
    "target_lang": "Idioma de destino",
    "source_lang": "Idioma de origem",
    "autodetect": "Detecção automática",
    "output_mode": "Saída do menu de contexto",
    "output_toast": "Popup no canto inferior direito",
    "output_center": "Modal central",
    "overlay_duration": "Duração do overlay (segundos)",
    "selection_shortcut": "Mostrar ícone de tradução perto do texto selecionado",
    "enable_x_inline_translation": "Mostrar botão de tradução no X",
    "enable_youtube_inline_translation": "Mostrar botão de tradução no YouTube",
    "save": "Salvar",
    "changes_hint": "As alterações são aplicadas imediatamente após salvar.",
    "status_saved": "Salvo.",
    "status_required": "URL da API e modelo são obrigatórios.",
    "status_set_openrouter_key": "Defina primeiro a chave API do OpenRouter.",
    "status_set_yandex_key": "Defina primeiro a chave API do YandexGPT.",
    "status_refreshing": "Atualizando modelos...",
    "status_no_models": "Nenhum modelo encontrado.",
    "status_models_updated": "Modelos atualizados."
  },
  "ru": {
    "title": "Настройки AI Translate",
    "subtitle": "Провайдеры, языки и режим вывода результата.",
    "ui_lang": "Язык интерфейса",
    "provider": "Провайдер",
    "api_base_url": "Базовый URL API (OpenAI-совместимый)",
    "api_base_url_placeholder": "https://api.openai.com/v1",
    "api_key": "API ключ",
    "api_key_placeholder": "sk-...",
    "model": "Модель",
    "model_custom_placeholder": "ID кастомной модели",
    "openrouter_models": "Модели OpenRouter",
    "openrouter_source": "Источник",
    "openrouter_source_user": "Модели пользователя",
    "openrouter_source_public": "Все публичные",
    "openrouter_free_only": "Только бесплатные",
    "refresh_list": "Обновить список",
    "openrouter_hint": "Использует ваш ключ OpenRouter для загрузки моделей.",
    "target_lang": "Язык перевода",
    "source_lang": "Язык источника",
    "autodetect": "Автоопределение",
    "output_mode": "Вывод из контекстного меню",
    "output_toast": "Попап справа снизу",
    "output_center": "Модальное окно по центру",
    "overlay_duration": "Длительность оверлея (сек)",
    "selection_shortcut": "Показывать значок перевода рядом с выделенным текстом",
    "enable_x_inline_translation": "Показывать кнопку перевода в X",
    "enable_youtube_inline_translation": "Показывать кнопку перевода в YouTube",
    "save": "Сохранить",
    "changes_hint": "Изменения применяются после сохранения.",
    "status_saved": "Сохранено.",
    "status_required": "Нужны API URL и модель.",
    "status_set_openrouter_key": "Сначала укажите ключ OpenRouter.",
    "status_set_yandex_key": "Сначала укажите ключ YandexGPT.",
    "status_refreshing": "Обновление списка...",
    "status_no_models": "Модели не найдены.",
    "status_models_updated": "Список обновлён."
  },
  "es": {
    "title": "Configuración de AI Translate",
    "subtitle": "Configura proveedores, idiomas y modo de salida.",
    "ui_lang": "Idioma de la interfaz",
    "provider": "Proveedor",
    "api_base_url": "URL base de API (compatible con OpenAI)",
    "api_base_url_placeholder": "https://api.openai.com/v1",
    "api_key": "Clave API",
    "api_key_placeholder": "sk-...",
    "model": "Modelo",
    "model_custom_placeholder": "ID de modelo personalizado",
    "openrouter_models": "Modelos de OpenRouter",
    "openrouter_source": "Fuente",
    "openrouter_source_user": "Modelos de usuario",
    "openrouter_source_public": "Todos los públicos",
    "openrouter_free_only": "Solo gratuitos",
    "refresh_list": "Actualizar lista",
    "openrouter_hint": "Usa tu clave API de OpenRouter para cargar modelos disponibles.",
    "target_lang": "Idioma de destino",
    "source_lang": "Idioma de origen",
    "autodetect": "Detección automática",
    "output_mode": "Salida del menú contextual",
    "output_toast": "Popup abajo a la derecha",
    "output_center": "Modal centrado",
    "overlay_duration": "Duración del overlay (segundos)",
    "selection_shortcut": "Mostrar el icono de traducción junto al texto seleccionado",
    "enable_x_inline_translation": "Mostrar botón de traducción en X",
    "enable_youtube_inline_translation": "Mostrar botón de traducción en YouTube",
    "save": "Guardar",
    "changes_hint": "Los cambios se aplican inmediatamente al guardar.",
    "status_saved": "Guardado.",
    "status_required": "Se requieren URL API y modelo.",
    "status_set_openrouter_key": "Primero establece la clave API de OpenRouter.",
    "status_set_yandex_key": "Primero establece la clave API de YandexGPT.",
    "status_refreshing": "Actualizando modelos...",
    "status_no_models": "No se encontraron modelos.",
    "status_models_updated": "Modelos actualizados."
  },
  "th": {
    "title": "การตั้งค่า AI Translate",
    "subtitle": "กำหนดผู้ให้บริการ ภาษา และรูปแบบการแสดงผล",
    "ui_lang": "ภาษาหน้าจอ",
    "provider": "ผู้ให้บริการ",
    "api_base_url": "API Base URL (เข้ากันได้กับ OpenAI)",
    "api_base_url_placeholder": "https://api.openai.com/v1",
    "api_key": "API Key",
    "api_key_placeholder": "sk-...",
    "model": "โมเดล",
    "model_custom_placeholder": "รหัสโมเดลแบบกำหนดเอง",
    "openrouter_models": "โมเดล OpenRouter",
    "openrouter_source": "แหล่งที่มา",
    "openrouter_source_user": "โมเดลผู้ใช้",
    "openrouter_source_public": "สาธารณะทั้งหมด",
    "openrouter_free_only": "ฟรีเท่านั้น",
    "refresh_list": "รีเฟรชรายการ",
    "openrouter_hint": "ใช้ OpenRouter API key ของคุณเพื่อโหลดโมเดลที่ใช้ได้",
    "target_lang": "ภาษาเป้าหมาย",
    "source_lang": "ภาษาต้นทาง",
    "autodetect": "ตรวจจับอัตโนมัติ",
    "output_mode": "ผลลัพธ์จากเมนูคลิกขวา",
    "output_toast": "ป๊อปอัปมุมขวาล่าง",
    "output_center": "หน้าต่างกลางหน้าจอ",
    "overlay_duration": "ระยะเวลาแสดงผล (วินาที)",
    "selection_shortcut": "แสดงไอคอนแปลใกล้ข้อความที่เลือก",
    "enable_x_inline_translation": "แสดงปุ่มแปลบน X",
    "enable_youtube_inline_translation": "แสดงปุ่มแปลบน YouTube",
    "save": "บันทึก",
    "changes_hint": "การเปลี่ยนแปลงมีผลทันทีหลังบันทึก",
    "status_saved": "บันทึกแล้ว",
    "status_required": "ต้องระบุ API URL และโมเดล",
    "status_set_openrouter_key": "ตั้งค่า OpenRouter API key ก่อน",
    "status_set_yandex_key": "ตั้งค่า YandexGPT API key ก่อน",
    "status_refreshing": "กำลังรีเฟรชโมเดล...",
    "status_no_models": "ไม่พบโมเดล",
    "status_models_updated": "อัปเดตรายการโมเดลแล้ว"
  },
  "tr": {
    "title": "AI Translate Ayarları",
    "subtitle": "Sağlayıcıları, dilleri ve çıktı modunu yapılandırın.",
    "ui_lang": "Arayüz dili",
    "provider": "Sağlayıcı",
    "api_base_url": "API Temel URL'si (OpenAI uyumlu)",
    "api_base_url_placeholder": "https://api.openai.com/v1",
    "api_key": "API Anahtarı",
    "api_key_placeholder": "sk-...",
    "model": "Model",
    "model_custom_placeholder": "Özel model kimliği",
    "openrouter_models": "OpenRouter modelleri",
    "openrouter_source": "Kaynak",
    "openrouter_source_user": "Kullanıcı modelleri",
    "openrouter_source_public": "Tüm herkese açık modeller",
    "openrouter_free_only": "Yalnızca ücretsiz",
    "refresh_list": "Listeyi yenile",
    "openrouter_hint": "Mevcut modelleri yüklemek için OpenRouter API anahtarınızı kullanır.",
    "target_lang": "Hedef dil",
    "source_lang": "Kaynak dil",
    "autodetect": "Otomatik algılama",
    "output_mode": "Bağlam menüsü çıktısı",
    "output_toast": "Sağ altta açılır pencere",
    "output_center": "Ortalanmış modal",
    "overlay_duration": "Overlay süresi (saniye)",
    "selection_shortcut": "Seçili metnin yanında çeviri simgesini göster",
    "enable_x_inline_translation": "X'te çeviri düğmesini göster",
    "enable_youtube_inline_translation": "YouTube'da çeviri düğmesini göster",
    "save": "Kaydet",
    "changes_hint": "Değişiklikler kaydedildikten sonra anında uygulanır.",
    "status_saved": "Kaydedildi.",
    "status_required": "API URL'si ve model gerekli.",
    "status_set_openrouter_key": "Önce OpenRouter API anahtarını girin.",
    "status_set_yandex_key": "Önce YandexGPT API anahtarını girin.",
    "status_refreshing": "Modeller yenileniyor...",
    "status_no_models": "Model bulunamadı.",
    "status_models_updated": "Modeller güncellendi."
  },
  "uk": {
    "title": "Налаштування AI Translate",
    "subtitle": "Постачальники, мови та режим виводу результату.",
    "ui_lang": "Мова інтерфейсу",
    "provider": "Постачальник",
    "api_base_url": "Базовий URL API (сумісний з OpenAI)",
    "api_base_url_placeholder": "https://api.openai.com/v1",
    "api_key": "API ключ",
    "api_key_placeholder": "sk-...",
    "model": "Модель",
    "model_custom_placeholder": "ID користувацької моделі",
    "openrouter_models": "Моделі OpenRouter",
    "openrouter_source": "Джерело",
    "openrouter_source_user": "Моделі користувача",
    "openrouter_source_public": "Усі публічні",
    "openrouter_free_only": "Лише безкоштовні",
    "refresh_list": "Оновити список",
    "openrouter_hint": "Використовує ваш ключ OpenRouter для завантаження моделей.",
    "target_lang": "Мова перекладу",
    "source_lang": "Мова джерела",
    "autodetect": "Автовизначення",
    "output_mode": "Вивід із контекстного меню",
    "output_toast": "Попап праворуч унизу",
    "output_center": "Модальне вікно по центру",
    "overlay_duration": "Тривалість оверлею (сек)",
    "selection_shortcut": "Показувати значок перекладу поруч із виділеним текстом",
    "enable_x_inline_translation": "Показувати кнопку перекладу в X",
    "enable_youtube_inline_translation": "Показувати кнопку перекладу в YouTube",
    "save": "Зберегти",
    "changes_hint": "Зміни застосовуються після збереження.",
    "status_saved": "Збережено.",
    "status_required": "Потрібні API URL і модель.",
    "status_set_openrouter_key": "Спочатку вкажіть ключ OpenRouter.",
    "status_set_yandex_key": "Спочатку вкажіть ключ YandexGPT.",
    "status_refreshing": "Оновлення списку...",
    "status_no_models": "Моделі не знайдено.",
    "status_models_updated": "Список оновлено."
  }
};

  const POPUP_I18N = {
  "ar": {
    "popup_title": "AI Translate",
    "open_settings": "فتح الإعدادات",
    "settings_short": "الإعدادات",
    "last_error": "آخر خطأ",
    "last_translation": "آخر ترجمة",
    "copy": "نسخ",
    "clear": "مسح"
  },
  "zh": {
    "popup_title": "AI Translate",
    "open_settings": "打开设置",
    "settings_short": "设置",
    "last_error": "最近错误",
    "last_translation": "最近翻译",
    "copy": "复制",
    "clear": "清除"
  },
  "en": {
    "popup_title": "AI Translate",
    "open_settings": "Open settings",
    "settings_short": "Settings",
    "quick_translate": "Quick translate",
    "quick_from": "From",
    "quick_to": "To",
    "quick_auto": "Autodetect",
    "quick_input": "Text to translate",
    "quick_input_ph": "Type text...",
    "quick_translate_btn": "Translate",
    "quick_swap_title": "Swap languages",
    "quick_output": "Result",
    "quick_output_ph": "Translation will appear here...",
    "quick_empty": "Enter text to translate.",
    "quick_translating": "Translating...",
    "quick_error": "Error",
    "last_error": "Last error",
    "last_translation": "Last translation",
    "copy": "Copy",
    "clear": "Clear"
  },
  "fr": {
    "popup_title": "AI Translate",
    "open_settings": "Ouvrir les paramètres",
    "settings_short": "Paramètres",
    "last_error": "Dernière erreur",
    "last_translation": "Dernière traduction",
    "copy": "Copier",
    "clear": "Effacer"
  },
  "de": {
    "popup_title": "AI Translate",
    "open_settings": "Einstellungen öffnen",
    "settings_short": "Einstellungen",
    "last_error": "Letzter Fehler",
    "last_translation": "Letzte Übersetzung",
    "copy": "Kopieren",
    "clear": "Löschen"
  },
  "el": {
    "popup_title": "AI Translate",
    "open_settings": "Άνοιγμα ρυθμίσεων",
    "settings_short": "Ρυθμίσεις",
    "last_error": "Τελευταίο σφάλμα",
    "last_translation": "Τελευταία μετάφραση",
    "copy": "Αντιγραφή",
    "clear": "Καθαρισμός"
  },
  "he": {
    "popup_title": "AI Translate",
    "open_settings": "פתח הגדרות",
    "settings_short": "הגדרות",
    "last_error": "שגיאה אחרונה",
    "last_translation": "תרגום אחרון",
    "copy": "העתק",
    "clear": "נקה"
  },
  "it": {
    "popup_title": "AI Translate",
    "open_settings": "Apri impostazioni",
    "settings_short": "Impostazioni",
    "last_error": "Ultimo errore",
    "last_translation": "Ultima traduzione",
    "copy": "Copia",
    "clear": "Cancella"
  },
  "ja": {
    "popup_title": "AI Translate",
    "open_settings": "設定を開く",
    "settings_short": "設定",
    "last_error": "最後のエラー",
    "last_translation": "最後の翻訳",
    "copy": "コピー",
    "clear": "クリア"
  },
  "ko": {
    "popup_title": "AI Translate",
    "open_settings": "설정 열기",
    "settings_short": "설정",
    "last_error": "최근 오류",
    "last_translation": "최근 번역",
    "copy": "복사",
    "clear": "지우기"
  },
  "pt": {
    "popup_title": "AI Translate",
    "open_settings": "Abrir configurações",
    "settings_short": "Configurações",
    "last_error": "Último erro",
    "last_translation": "Última tradução",
    "copy": "Copiar",
    "clear": "Limpar"
  },
  "ru": {
    "popup_title": "AI Translate",
    "open_settings": "Открыть настройки",
    "settings_short": "Настройки",
    "quick_translate": "Быстрый перевод",
    "quick_from": "С",
    "quick_to": "На",
    "quick_auto": "Автоопределение",
    "quick_input": "Текст для перевода",
    "quick_input_ph": "Введите текст...",
    "quick_translate_btn": "Перевести",
    "quick_swap_title": "Поменять языки местами",
    "quick_output": "Результат",
    "quick_output_ph": "Перевод появится здесь...",
    "quick_empty": "Введите текст для перевода.",
    "quick_translating": "Переводим...",
    "quick_error": "Ошибка",
    "last_error": "Последняя ошибка",
    "last_translation": "Последний перевод",
    "copy": "Копировать",
    "clear": "Очистить"
  },
  "es": {
    "popup_title": "AI Translate",
    "open_settings": "Abrir configuración",
    "settings_short": "Ajustes",
    "last_error": "Último error",
    "last_translation": "Última traducción",
    "copy": "Copiar",
    "clear": "Limpiar"
  },
  "th": {
    "popup_title": "AI Translate",
    "open_settings": "เปิดการตั้งค่า",
    "settings_short": "ตั้งค่า",
    "last_error": "ข้อผิดพลาดล่าสุด",
    "last_translation": "คำแปลล่าสุด",
    "copy": "คัดลอก",
    "clear": "ล้าง"
  },
  "tr": {
    "popup_title": "AI Translate",
    "open_settings": "Ayarları aç",
    "settings_short": "Ayarlar",
    "last_error": "Son hata",
    "last_translation": "Son çeviri",
    "copy": "Kopyala",
    "clear": "Temizle"
  },
  "uk": {
    "popup_title": "AI Translate",
    "open_settings": "Відкрити налаштування",
    "settings_short": "Налаштування",
    "last_error": "Остання помилка",
    "last_translation": "Останній переклад",
    "copy": "Копіювати",
    "clear": "Очистити"
  }
};

  const CONTENT_I18N = {
  "ru": {
    "buttonIdle": "Перевести текст",
    "buttonDone": "Текст",
    "errorPrefix": "Ошибка",
    "copy": "Копировать",
    "close": "Закрыть",
    "selectionTitle": "Перевести выделение",
    "extensionContextUnavailable": "Контекст расширения недоступен. Попробуйте снова или перезагрузите вкладку.",
    "temporaryConnectionIssue": "Временная проблема соединения. Попробуйте снова или перезагрузите вкладку."
  },
  "uk": {
    "buttonIdle": "Перекласти текст",
    "buttonDone": "Текст",
    "errorPrefix": "Помилка",
    "copy": "Копіювати",
    "close": "Закрити",
    "selectionTitle": "Перекласти виділення",
    "extensionContextUnavailable": "Контекст розширення недоступний. Спробуйте ще раз або перезавантажте вкладку.",
    "temporaryConnectionIssue": "Тимчасова проблема зʼєднання. Спробуйте ще раз або перезавантажте вкладку."
  },
  "bg": {
    "buttonIdle": "Преведи текста",
    "buttonDone": "Текст",
    "errorPrefix": "Грешка",
    "copy": "Копирай",
    "close": "Затвори",
    "selectionTitle": "Преведи избраното",
    "extensionContextUnavailable": "Контекстът на разширението не е наличен. Опитайте отново или презаредете този раздел.",
    "temporaryConnectionIssue": "Временен проблем с връзката. Опитайте отново или презаредете този раздел."
  },
  "sr": {
    "buttonIdle": "Преведи текст",
    "buttonDone": "Текст",
    "errorPrefix": "Грешка",
    "copy": "Копирај",
    "close": "Затвори",
    "selectionTitle": "Преведи избор",
    "extensionContextUnavailable": "Контекст екстензије није доступан. Покушајте поново или поново учитајте ову картицу.",
    "temporaryConnectionIssue": "Привремени проблем са везом. Покушајте поново или поново учитајте ову картицу."
  },
  "en": {
    "buttonIdle": "Translate text",
    "buttonDone": "Text",
    "errorPrefix": "Error",
    "copy": "Copy",
    "close": "Close",
    "selectionTitle": "Translate selection",
    "extensionContextUnavailable": "Extension context unavailable. Try again or reload this tab.",
    "temporaryConnectionIssue": "Temporary connection issue. Try again or reload this tab."
  },
  "de": {
    "buttonIdle": "Text übersetzen",
    "buttonDone": "Text",
    "errorPrefix": "Fehler",
    "copy": "Kopieren",
    "close": "Schließen",
    "selectionTitle": "Auswahl übersetzen",
    "extensionContextUnavailable": "Erweiterungskontext nicht verfügbar. Versuchen Sie es erneut oder laden Sie diesen Tab neu.",
    "temporaryConnectionIssue": "Temporäres Verbindungsproblem. Versuchen Sie es erneut oder laden Sie diesen Tab neu."
  },
  "fr": {
    "buttonIdle": "Traduire le texte",
    "buttonDone": "Texte",
    "errorPrefix": "Erreur",
    "copy": "Copier",
    "close": "Fermer",
    "selectionTitle": "Traduire la sélection",
    "extensionContextUnavailable": "Contexte de l'extension indisponible. Réessayez ou rechargez cet onglet.",
    "temporaryConnectionIssue": "Problème de connexion temporaire. Réessayez ou rechargez cet onglet."
  },
  "es": {
    "buttonIdle": "Traducir texto",
    "buttonDone": "Texto",
    "errorPrefix": "Error",
    "copy": "Copiar",
    "close": "Cerrar",
    "selectionTitle": "Traducir selección",
    "extensionContextUnavailable": "Contexto de la extensión no disponible. Inténtalo de nuevo o recarga esta pestaña.",
    "temporaryConnectionIssue": "Problema de conexión temporal. Inténtalo de nuevo o recarga esta pestaña."
  },
  "pt": {
    "buttonIdle": "Traduzir texto",
    "buttonDone": "Texto",
    "errorPrefix": "Erro",
    "copy": "Copiar",
    "close": "Fechar",
    "selectionTitle": "Traduzir seleção",
    "extensionContextUnavailable": "Contexto da extensão indisponível. Tente novamente ou recarregue esta aba.",
    "temporaryConnectionIssue": "Problema temporário de conexão. Tente novamente ou recarregue esta aba."
  },
  "it": {
    "buttonIdle": "Traduci testo",
    "buttonDone": "Testo",
    "errorPrefix": "Errore",
    "copy": "Copia",
    "close": "Chiudi",
    "selectionTitle": "Traduci selezione",
    "extensionContextUnavailable": "Contesto dell'estensione non disponibile. Riprova o ricarica questa scheda.",
    "temporaryConnectionIssue": "Problema di connessione temporaneo. Riprova o ricarica questa scheda."
  },
  "tr": {
    "buttonIdle": "Metni çevir",
    "buttonDone": "Metin",
    "errorPrefix": "Hata",
    "copy": "Kopyala",
    "close": "Kapat",
    "selectionTitle": "Seçimi çevir",
    "extensionContextUnavailable": "Uzantı bağlamı kullanılamıyor. Tekrar deneyin veya bu sekmeyi yenileyin.",
    "temporaryConnectionIssue": "Geçici bağlantı sorunu. Tekrar deneyin veya bu sekmeyi yenileyin."
  },
  "ar": {
    "buttonIdle": "ترجمة النص",
    "buttonDone": "النص",
    "errorPrefix": "خطأ",
    "copy": "نسخ",
    "close": "إغلاق",
    "selectionTitle": "ترجمة التحديد",
    "extensionContextUnavailable": "سياق الإضافة غير متاح. حاول مرة أخرى أو أعد تحميل علامة التبويب هذه.",
    "temporaryConnectionIssue": "مشكلة اتصال مؤقتة. حاول مرة أخرى أو أعد تحميل علامة التبويب هذه."
  },
  "he": {
    "buttonIdle": "תרגם טקסט",
    "buttonDone": "טקסט",
    "errorPrefix": "שגיאה",
    "copy": "העתק",
    "close": "סגור",
    "selectionTitle": "תרגם בחירה",
    "extensionContextUnavailable": "הקשר ההרחבה אינו זמין. נסה שוב או טען מחדש את הלשונית הזו.",
    "temporaryConnectionIssue": "בעיית חיבור זמנית. נסה שוב או טען מחדש את הלשונית הזו."
  },
  "el": {
    "buttonIdle": "Μετάφραση κειμένου",
    "buttonDone": "Κείμενο",
    "errorPrefix": "Σφάλμα",
    "copy": "Αντιγραφή",
    "close": "Κλείσιμο",
    "selectionTitle": "Μετάφραση επιλογής",
    "extensionContextUnavailable": "Το περιβάλλον της επέκτασης δεν είναι διαθέσιμο. Δοκιμάστε ξανά ή ανανεώστε αυτήν την καρτέλα.",
    "temporaryConnectionIssue": "Προσωρινό πρόβλημα σύνδεσης. Δοκιμάστε ξανά ή ανανεώστε αυτήν την καρτέλα."
  },
  "th": {
    "buttonIdle": "แปลข้อความ",
    "buttonDone": "ข้อความ",
    "errorPrefix": "ข้อผิดพลาด",
    "copy": "คัดลอก",
    "close": "ปิด",
    "selectionTitle": "แปลที่เลือก",
    "extensionContextUnavailable": "บริบทของส่วนขยายไม่พร้อมใช้งาน ลองอีกครั้งหรือรีโหลดแท็บนี้",
    "temporaryConnectionIssue": "มีปัญหาการเชื่อมต่อชั่วคราว ลองอีกครั้งหรือรีโหลดแท็บนี้"
  },
  "ko": {
    "buttonIdle": "텍스트 번역",
    "buttonDone": "텍스트",
    "errorPrefix": "오류",
    "copy": "복사",
    "close": "닫기",
    "selectionTitle": "선택 번역",
    "extensionContextUnavailable": "확장 프로그램 컨텍스트를 사용할 수 없습니다. 다시 시도하거나 이 탭을 새로고침하세요.",
    "temporaryConnectionIssue": "일시적인 연결 문제입니다. 다시 시도하거나 이 탭을 새로고침하세요."
  },
  "ja": {
    "buttonIdle": "テキストを翻訳",
    "buttonDone": "テキスト",
    "errorPrefix": "エラー",
    "copy": "コピー",
    "close": "閉じる",
    "selectionTitle": "選択を翻訳",
    "extensionContextUnavailable": "拡張機能のコンテキストを利用できません。もう一度試すか、このタブを再読み込みしてください。",
    "temporaryConnectionIssue": "一時的な接続問題です。もう一度試すか、このタブを再読み込みしてください。"
  },
  "zh": {
    "buttonIdle": "翻译文本",
    "buttonDone": "文本",
    "errorPrefix": "错误",
    "copy": "复制",
    "close": "关闭",
    "selectionTitle": "翻译所选",
    "extensionContextUnavailable": "扩展上下文不可用。请重试或重新加载此标签页。",
    "temporaryConnectionIssue": "临时连接问题。请重试或重新加载此标签页。"
  }
};

  const displayNamesCache = {};

  function getScopedStrings(scope, lang) {
    return scope[lang] || scope.en;
  }

  function getLanguageDisplayName(code, uiLang) {
    if (typeof Intl !== "undefined" && typeof Intl.DisplayNames === "function") {
      try {
        if (!displayNamesCache[uiLang]) {
          displayNamesCache[uiLang] = new Intl.DisplayNames([uiLang], { type: "language" });
        }
        return displayNamesCache[uiLang].of(code) || LANGUAGE_NAME_FALLBACK[code] || code;
      } catch (_) {
        return LANGUAGE_NAME_FALLBACK[code] || code;
      }
    }
    return LANGUAGE_NAME_FALLBACK[code] || code;
  }

  root.AITranslateI18n = {
    languageCodes: LANGUAGE_CODES,
    uiLanguageLabels: UI_LANGUAGE_LABELS,
    getLanguageDisplayName,
    getOptionsStrings(lang) {
      return getScopedStrings(OPTIONS_I18N, lang);
    },
    getPopupStrings(lang) {
      return {
        ...POPUP_I18N.en,
        ...(POPUP_I18N[lang] || {})
      };
    },
    getContentStrings(lang) {
      const chosen = getScopedStrings(CONTENT_I18N, lang);
      return {
        buttonIdle: chosen.buttonIdle,
        buttonLoading: "...",
        buttonDone: chosen.buttonDone,
        errorPrefix: chosen.errorPrefix,
        copy: chosen.copy,
        close: chosen.close,
        selectionTitle: chosen.selectionTitle,
        extensionContextUnavailable:
          chosen.extensionContextUnavailable || CONTENT_I18N.en.extensionContextUnavailable,
        temporaryConnectionIssue:
          chosen.temporaryConnectionIssue || CONTENT_I18N.en.temporaryConnectionIssue
      };
    }
  };
})(window);
